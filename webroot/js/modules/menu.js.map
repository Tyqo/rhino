{"version":3,"names":[],"mappings":"","sources":["menu.js"],"sourcesContent":["export default class Menu {\n\tconstructor(main) {\n\t\tthis.main = main;\n\n\t\tif (this.main.debug) {\n\t\t\tconsole.debug(\"Menu::const\");\n\t\t}\n\n\t\tthis.Config = {\n\t\t\tmenuID: 'main-menu',\n\t\t\tmenuButtonID: 'menu-button',\n\t\t\tbodyClass: \"menu-is-open\",\n\t\t\tmenuClass: 'menu--open'\n\t\t}\n\n\t\tthis.menu = document.getElementById(this.Config.menuID);\n\t\tthis.menuButton = document.getElementById(this.Config.menuButtonID);\n\n\t\tif (this.menu && this.menuButton) {\n\t\t\tthis.setup();\n\t\t}\n\t}\n\n\tsetup() {\n\t\tthis.menuButton.addEventListener('click', () => this.toggle());\n\n\t\twindow.addEventListener('keydown', (e) => {\n\t\t\tif (e.key == \"Escape\") {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t});\n\n\t\tthis.main.onOutsideClick('#' + this.Config.menuID, (event) => {\n\t\t\tlet status = this.menuButton.getAttribute(\"aria-expanded\");\n\t\t\tif (status == 'true') {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggle() {\n\t\tlet status = this.menuButton.getAttribute('aria-expanded');\n\n\t\tif (status == 'true') {\n\t\t\tthis.close();\n\t\t} else {\n\t\t\tthis.open();\n\t\t}\n\t}\n\n\tclose() {\n\t\tthis.menu.classList.remove(this.Config.menuClass);\n\t\tdocument.body.classList.remove(this.Config.bodyClass);\n\t\tthis.menuButton.setAttribute(\n\t\t\t\"aria-expanded\",\n\t\t\t\"false\"\n\t\t);\n\t}\n\n\topen() {\n\t\t// Small delay for onOutsideClick to work\n\t\tsetTimeout(() => {\n\t\t\tthis.menu.classList.add(this.Config.menuClass);\n\t\t\tdocument.body.classList.add(this.Config.bodyClass);\n\t\t\tthis.menuButton.setAttribute(\n\t\t\t\t\"aria-expanded\",\n\t\t\t\t\"true\"\n\t\t\t);\n\t\t}, 100);\n\t}\n}"],"file":"menu.js"}