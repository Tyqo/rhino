{"version":3,"names":[],"mappings":"","sources":["tabs.js"],"sourcesContent":["export default class Tabs {\n\tconstructor(main) {\n\t\tthis.main = main;\n\n\t\tif (this.main.debug) {\n\t\t\tconsole.debug(\"Tabs::const\");\n\t\t}\n\n\t\tthis.Config = {\n\t\t\ttabGroupSelector: '.tab-group',\n\t\t\ttabButtonSelector: '[data-target]',\n\t\t\ttabButtonClass: 'tab-button',\n\t\t\tactiveTabClass: 'tab--active',\n\t\t\tactiveButtonClass: 'tab-button--active'\n\t\t}\n\n\t\tthis.tabGroups = document.querySelectorAll(this.Config.tabGroupSelector);\n\n\t\tif (this.tabGroups.length > 0) {\n\t\t\tthis.setup();\n\t\t}\n\t}\n\n\tsetup() {\n\t\tthis.tabGroups.forEach(tabGroup => {\n\t\t\tlet tabButton = tabGroup.querySelector(this.Config.tabButtonSelector);\n\t\t\tthis.open(tabButton);\n\t\t});\n\n\t\tconst hash = location.hash.substring(1);\n\t\tif (hash) {\n\t\t\tlet hashButton = document.querySelector(\n\t\t\t\t\".\" + this.Config.tabButtonClass + this.Config.tabButtonSelector.slice(0, -1) + \"=\" + hash + \"]\"\n\t\t\t\t);\n\n\t\t\tif (hashButton) {\n\t\t\t\tlet hashGroup = hashButton.closest(this.Config.tabGroupSelector);\n\t\t\t\tthis.toggle(hashButton, hashGroup);\n\t\t\t\tconsole.log(\"toggle\");\n\t\t\t}\n\t\t}\n\t}\n\n\tinit() {\n\t\tthis.tabGroups.forEach(tabGroup => {\n\t\t\tlet tabButtons = tabGroup.querySelectorAll(this.Config.tabButtonSelector);\n\n\t\t\ttabButtons.forEach(tabButton => {\n\t\t\t\ttabButton.addEventListener('click', (event) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.toggle(tabButton, tabGroup);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\twindow.addEventListener(\"layout-update\", () => this.refresh());\n\t}\n\t\n\ttoggle(tabButton, tabGroup) {\n\t\tthis.close(tabGroup);\n\t\tthis.open(tabButton);\n\t}\n\n\tclose(group) {\n\t\tlet activeButtons = group.querySelectorAll(\".\" + this.Config.activeButtonClass);\n\t\tlet activeTabs = group.querySelectorAll(\".\" + this.Config.activeTabClass);\n\n\t\tactiveButtons.forEach(active => {\n\t\t\tactive.classList.remove(this.Config.activeButtonClass);\n\t\t});\n\n\t\tactiveTabs.forEach(active => {\n\t\t\tactive.classList.remove(this.Config.activeTabClass);\n\t\t});\n\t}\n\n\topen(button) {\n\t\tlet target = document.getElementById(button.dataset.target);\n\n\t\tbutton.classList.add(this.Config.activeButtonClass);\n\t\ttarget.classList.add(this.Config.activeTabClass);\n\t}\n\n\trefresh() {\n\t\tthis.tabGroups = document.querySelectorAll(this.Config.tabGroupSelector);\n\t\tthis.tabGroups.forEach(tabGroup => {\n\t\t\tlet tabButton = tabGroup.querySelector(this.Config.tabButtonSelector);\n\t\t\tthis.open(tabButton);\n\t\t});\n\t}\n}"],"file":"tabs.js"}