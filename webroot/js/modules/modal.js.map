{"version":3,"names":[],"mappings":"","sources":["modal.js"],"sourcesContent":["export default class Modal {\n\tconstructor() {\n\t\tthis.modal = document.createElement('dialog');\n\t\t// this.modalWrapper = document.createElement('div');\n\t\tthis.modalHeader = document.createElement('header');\n\t\tthis.headline = document.createElement('p');\n\t\tthis.closeButton = document.createElement('button');\n\t\tthis.modalMain = document.createElement('main');\n\t\tthis.cross = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc.--><path d=\"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25-6.2 6.25-14.4 9.35-22.6 9.35s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416s-16.37-3.1-22.625-9.4c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z\" /></svg>';\n\t\tthis.addModal();\n\t\tthis.init();\n\t}\n\t\n\tinit() {\n\t\tthis.closeButton.addEventListener('click', () => this.closeModal());\n\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\tif (event.key == \"Escape\") {\n\t\t\t\tthis.closeModal();\n\t\t\t}\n\t\t});\n\t\tconst openModalButtons = document.querySelectorAll('.open-modal');\n\t\topenModalButtons.forEach((button) => button.addEventListener('click', (event) => {\n\t\t\tthis.button = event.target;\n\t\t\tthis.openModal(event);\n\t\t}));\n\t}\n\t\n\taddModal() {\n\t\tthis.closeButton.id = \"close-modal\";\n\t\tthis.closeButton.innerHTML = this.cross;\n\n\t\tthis.modalHeader.classList.add('modal-header');\n\t\tthis.modalHeader.appendChild(this.headline);\n\t\tthis.modalHeader.appendChild(this.closeButton);\n\n\t\tthis.modalMain.classList.add('modal-main')\n\n\t\tthis.modal.classList.add('modal');\n\t\tthis.modal.setAttribute('closed', true);\n\t\tthis.modal.appendChild(this.modalHeader);\n\t\tthis.modal.appendChild(this.modalMain);\n\t\t\n\t\t// this.modalWrapper.classList.add('modal-wrapper');\n\t\t// this.modalWrapper.appendChild(this.modal);\n\t\t\n\t\t// document.body.appendChild(this.modalWrapper);\n\t\tdocument.body.appendChild(this.modal);\n\t}\n\n\tcloseModal() {\n\t\t// this.modalWrapper.classList.remove('modal-wrapper--open');\n\t\tthis.modal.close();\n\t\tthis.modalMain.innerHTML = '';\n\t\tlet dispatch = this.button.getAttribute('data-dispatch');\n\n\t\tlet event = new CustomEvent(\"modalClosed\", {\n\t\t\tdetail: this.button,\n\t\t});\n\n\t\tif (dispatch) {\n\t\t\tthis.modal.dispatchEvent(event);\n\t\t}\n\t}\n\t\n\topenModal(event) {\n\t\tlet target = event.target;\n\t\tthis.headline.innerHTML = target.name;\n\t\tthis.modal.showModal();\n\t\t// this.modalWrapper.classList.add('modal-wrapper--open');\n\t\t\n\t\tfetch(target.value, {\n\t\t\theaders: {\n\t\t\t\t'X-Requested-With': 'XMLHttpRequest'\n\t\t\t},\n\t\t}).then((response) => {\n\t\t\treturn response.text();\n\t\t}).then((html) => this.initModal(html))\n\t\t.catch(err => console.log(err))\n\t}\n\t\n\tinitModal(html) {\n\t\tthis.modalMain.innerHTML = html;\n\n\t\tlet event = new CustomEvent(\"modalOpen\", {\n\t\t\tdetail: this,\n\t\t});\n\n\t\tthis.modal.dispatchEvent(event)\n\t}\n}  "],"file":"modal.js"}