{"version":3,"names":[],"mappings":"","sources":["modal.js"],"sourcesContent":["export default class Modal {\n\n\tconstructor(main) {\n\t\tthis.main = main;\n\n\t\tif (this.main.debug) {\n\t\t\tconsole.debug(\"Modal::const\");\n\t\t}\n\n\t\tthis.Conf = {\n\t\t\tisOpenClass: \"modal-is-open\",\n\t\t\topeningClass: \"modal-is-opening\",\n\t\t\tclosingClass: \"modal-is-closing\",\n\t\t\tanimationDuration: 400\n\t\t};\n\n\t\tthis.visibleModal = null;\n\n\t\tthis.buttons = document.querySelectorAll('[data-target]');\n\t\tif (this.buttons.length > 0) {\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tthis.buttons.forEach(button => {\n\t\t\tlet target = document.getElementById(button.dataset.target);\n\t\t\t\n\t\t\tif (target.tagName == 'DIALOG') {\n\t\t\t\tbutton.addEventListener('click', (event) => {\n\t\t\t\t\tthis.toggleModal(event, target);\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t}\n\n\ttoggleModal(event, target) {\n\t\tevent.preventDefault();\n\t\tif (this.isModalOpen(target)) {\n\t\t\tthis.closeModal(target);\n\t\t} else {\n\t\t\tthis.openModal(target);\n\t\t}\n\t}\n\n\tisModalOpen(modal) {\n\t\treturn !(!modal.hasAttribute(\"open\") || \"false\" == modal.getAttribute(\"open\"));\n\t}\n\n\topenModal(modal) {\n\t\tthis.visibleModal = modal;\n\t\tmodal.showModal();\n\t}\n\n\tcloseModal(modal) {\n\t\tthis.visibleModal = null;\n\t\tmodal.close();\n\t}\n}"],"file":"modal.js"}