/**
 * @project       rhino
 * @author        carsten.coull@swu.de
 * @build         Fri, Feb 24, 2023 11:30 AM ET
 * @release       d38c9b4454b6cd5649c629457598428c0f0880b3 [main]
 * @copyright     Copyright (c) 2023, SWU Stadtwerke Ulm / Neu-Ulm GmbH
 *
 */
import Nav from"/dist/js/vendor/nav.js";import LazyLoading from"/dist/js/vendor/lazyload.js";import Map from"/dist/js/vendor/map.js";import Slider from"/dist/js/vendor/slider.js";import FlashMessages from"/dist/js/vendor/flash-messages.js";import LightBox from"/dist/js/vendor/light-box.js";import Overlay from"/dist/js/vendor/overlay.js";class MAIN{constructor(){this.debug=!1,document.addEventListener("DOMContentLoaded",(()=>this.init())),window.onload=()=>this.pageInit()}init(){this.debug,document.body.classList.add("page-has-loaded");const t=window.innerWidth-document.body.clientWidth;document.body.style.setProperty("--scrollbarWidth",t+"px"),window.addEventListener("resize",(()=>this.throttle(this.resizeHandler)),{passive:!0}),window.addEventListener("scroll",(()=>this.throttle(this.scrollHandler)),{passive:!0})}pageInit(){if(this.debug,document.body.classList.add("page-has-rendered"),this.header=document.querySelector("header"),this.header){let t=this.header.getBoundingClientRect();this.headerBottom=t.top+t.height}this.main()}main(){this.Nav=new Nav(this),(new LazyLoading).init(),this.FlashMessages=new FlashMessages(this),this.Overlay=new Overlay(this,{closeButtonIcon:"/dist/icons/cross.svg",closeButtonTitle:"Close Overlay"}),this.Slider=new Slider(this),this.LightBox=new LightBox(this,{selector:"#main img",prevTitle:"zum vorherigem Bild",nextTitle:"zum nÃ¤chsten Bild",prevIcon:"/dist/icons/chevron-left.svg",nextIcon:"/dist/icons/chevron-right.svg"});let t=document.querySelector("#map");new Map(t)}scrollHandler(){let t=window.scrollY;this.debug,document.body.classList.toggle("has-scrolled",t>0),document.body.classList.toggle("has-scrolled-a-bit",t>30),document.body.classList.toggle("has-scrolled-past-header",t>this.headerBottom),document.body.classList.toggle("has-scrolled-100vh",t>window.innerHeight),this.lastScrollPosition&&(document.body.classList.toggle("has-scrolled-up",t<this.lastScrollPosition),document.body.classList.toggle("has-scrolled-down",t>this.lastScrollPosition)),this.lastScrollPosition=t}resizeHandler(){let t=window.innerWidth,e=window.innerHeight;this.debug,document.body.style.setProperty("--window-width",`${t}px`),document.body.style.setProperty("--window-height",`${e}px`)}throttle(t){this.ticking=!1,this.ticking||(window.requestAnimationFrame((()=>{t.call(this),this.ticking=!1})),this.ticking=!0)}onOutsideClick(t,e){document.addEventListener("click",(s=>{var i=s.target.parentNode.closest(t);null==i&&document.querySelector(t)!=s.target&&e(s,i)}))}hideElement(){}}new MAIN;